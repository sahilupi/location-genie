<div class="container blurry_remove">
  <div class="dialog-header d-flex justify-content-between">
    <h1 mat-dialog-title class="heading">{{ heading }}</h1>
    <div class="close-parent">
      <mat-icon class="close" (click)="dialogRef.close(null)">close</mat-icon>
    </div>
  </div>
  <form
    *ngIf="edithomeBannerForm"
    [formGroup]="edithomeBannerForm"
    (ngSubmit)="onSubmitForm()"
  >
    <div mat-dialog-content>
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Text</mat-label>
        <input matInput formControlName="text" />
        <mat-error>
          <small
            >Maximum 120 characters allowed for title text</small
          ></mat-error
        >
      </mat-form-field>
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Link Text</mat-label>
        <input matInput formControlName="linkText" />
        <mat-error>
          <small>Maximum 30 characters allowed for link text</small></mat-error
        >
      </mat-form-field>
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Link</mat-label>
        <input matInput formControlName="link" />
      </mat-form-field>
      <div>
        <button
          type="button"
          mat-raised-button
          matPrefix
          (click)="f_input.click()"
          [ngClass]="{
            'has-error':
              (c['imageUrl'].invalid && c['imageUrl'].touched) ||
              (c['imageUrl'].invalid && isSubmitted)
          }"
        >
          Select Image *
        </button>
        <input
          type="file"
          hidden
          (change)="onImageSelect($event)"
          #f_input
          accept="image/png, image/jpeg ,image/jpg"
        />
        <div>
          <small
            class="has-error--text"
            *ngIf="
              (c['imageUrl'].hasError('required') && c['imageUrl'].touched) ||
              (c['imageUrl'].hasError('required') && isSubmitted)
            "
            >Image is required</small
          >
        </div>
        <div class="mt-2">
          <img
            *ngIf="imagePreview"
            [src]="imagePreview"
            width="100%"
            height="100%"
          />
        </div>
      </div>
    </div>
    <div mat-dialog-actions align="end">
      <!-- <button
        mat-stroked-button
        (click)="dialogRef.close(null)"
        type="button"
        color="accent"
      >
        Cancel
      </button> -->
      <button
        [disabled]="!this.edithomeBannerForm.valid"
        type="submit"
        color="primary"
        mat-raised-button
        cdkFocusInitial
        class="text-white"
      >
        Save
      </button>
    </div>
  </form>
</div>
